<Manager>:
    MainWindow:
        name: "main"

    ResultsWindow:
        name: 'results'

    InputNumberManuallyScreen:
        name: 'input_number_manually'

    JobWindow:
        name: 'job'

    ProblemWindow:
        name: 'problem'

    SettingsWindow:
        name: 'settings'

<MainWindow>:
    CenteredLabel:
        id: search_method_label
        text: 'Choose ISBN input method'
        pos_hint: {'center_x': 0.5, 'y': 0.8}

    FullWidthGridLayoutThin:
        id: search_method_layout
        rows: 1
        cols: 2
        pos_hint: {'center_x': 0.5, 'y': 0.6}

        GrayButton:
            id: search_by_scanning
            text: 'Scan'
            disabled: True

        GrayButton:
            id: search_by_inputting
            text: 'Input'
            disabled: False
            on_press: 
                app.root.current = 'input_number_manually'

    SmallGrayButton:
        id: goto_settings
        text: 'Settings'
        pos_hint: {'center_x': 0.5, 'y': 0.3}
        on_press: 
            app.root.current = 'settings'

    SmallGrayButton:
        id: exit_button
        text: 'Exit'
        pos_hint: {'center_x':0.5, 'y': 0.1}
        on_press: 
            app.get_running_app().stop()

<SettingsWindow>:
    CenteredLabel:
        id: price_strategy_label
        text: 'choose default price difference from average:'
        pos_hint: {'center_x':0.5, 'y': 0.9}

    FullWidthGridLayoutThin:
        id: price_strategy_layout
        rows: 1
        cols: 4
        pos_hint: {'center_x':0.5, 'y': 0.8}

        Button:
            id: set_0_percent_price_strategy
            background_color: (0,0,0,1)
            text: '-0%'
            on_press: 
                root.set_price_strategy(0)

        Button:
            id: set_10_percent_price_strategy
            background_color: (0,0,0,1)
            text: '-10%'
            on_press: 
                root.set_price_strategy(10)

        Button:
            id: set_20_percent_price_strategy
            background_color: (0,0,0,1)
            text: '-20%'
            on_press: 
                root.set_price_strategy(20)

        Button:
            background_color: (0,0,0,1)
            id: set_40_percent_price_strategy
            text: '-40%'
            on_press: 
                root.set_price_strategy(40)

    CenteredLabel:
        id: sell_strategy
        text: 'choose sell strategy'
        pos_hint: {'center_x':0.5, 'y': 0.7}

    FullWidthGridLayoutThin:
        id: sell_strategy_layout
        rows: 2
        cols: 3
        pos_hint: {'center_x': 0.5, 'y': 0.6}

        CenteredLabel:
            id: sell_strategy_label
            text: 'Sell as:'

        GrayButton:
            id: set_sell_as_new
            text: 'used'
            on_press: 
                root.sell_as('used')

        BlackButton:
            id: set_sell_as_used
            text: 'new'
            on_press: 
                root.sell_as('new')

        CenteredLabel:
            id: buynow_strategy_label
            text: 'Allow Buy Now'

        GrayButton:
            id: buynow_true
            text: 'yes'
            on_press: 
                root.buynow(True)

        BlackButton:
            id: buynow_false
            text: 'no'
            on_press: 
                root.buynow(False)

    CenteredLabel:
        id: delivery_strategy_label
        text: 'choose delivery options'
        pos_hint: {'center_x':0.5, 'y': 0.5}

    FullWidthGridLayoutChunky:
        id: delivery_strategy_layout
        rows: 3
        cols: 5
        size_hint_x: 0.7
        pos_hint: {'center_x':0.5, 'y': 0.2}

        TwoStateClickableImage:
            id: parcellocker_delivery_tick
            source: 'static/yes.png'

        CenteredLabel:
            id: parcellocker_delivery_label
            background_normal: ''
            text: 'Parcellocker'

        SetLessPriceButton:
            on_press: 
                root.change_price('parcellocker', -1)

        CenteredLabel:
            id: parcellocker_delivery_price
            text: '10.00 PLN'

        SetMorePriceButton:
            on_press: 
                root.change_price('parcellocker', 1)

        TwoStateClickableImage:
            id: courier_delivery_tick
            source: 'static/yes.png'

        CenteredLabel:
            id: courier_delivery_label
            text: 'Courier'

        SetLessPriceButton:
            on_press: 
                root.change_price('courier', -1)

        CenteredLabel:
            id: courier_delivery_price
            text: '10.00 PLN'

        SetMorePriceButton:
            on_press: 
                root.change_price('courier', 1)

        TwoStateClickableImage:
            id: mail_delivery_tick
            source: 'static/yes.png'

        CenteredLabel:
            id: mail_delivery_label
            text: 'Mail'

        SetLessPriceButton:
            on_press: 
                root.change_price('mail', -1)

        CenteredLabel:
            id: mail_delivery_price
            text: '10.00 PLN'

        SetMorePriceButton:
            on_press: 
                root.change_price('mail', 1)

    SmallGrayButton:
        id: goback
        text: 'Save and Proceed'
        pos_hint: {'center_x':0.5, 'y': 0.0}
        on_press: 
            root.save_and_proceed()
            app.root.current = 'main'

<ResultsWindow>:
    FullWidthGridLayoutChunkiest:
        id: results_layout
        rows: 4
        cols: 2
        pos_hint: {'center_x':0.5, 'y': 0.4}

        BaseLabel:
            id: title_label
            text: 'title:'

        BaseLabel:
            id: title_content
            text: 'jebac psy'

        BaseLabel:
            id: author_label
            text: 'title:'

        BaseLabel:
            id: author_content
            text: 'Pezet'

        BaseLabel:
            id: avg_prices_label
            text: 'avg. price:'

        BaseLabel:
            id: avg_prices_content
            text: '0.0'

        BaseLabel:
            id: sales_number_label
            text: 'sold:'

        BaseLabel:
            id: sales_number_content
            text: '69'

    FullWidthGridLayoutThin:
        id: buttons_layout
        rows: 1
        cols: 2
        pos_hint: {'center_x':0.5, 'y': 0.2}

        GrayButton:
            id: goback_button
            text: 'Go Back'
            on_press: 
                root.goback()

        GrayButton:
            id: sell_button
            text: 'Sell!'
            # this will be implemented in future
            disabled: True  
            on_press: 
                root.sell()

<JobWindow>:
    WaitForResultsImage:
        source: "static/wait.gif"
        pos_hint: {"center_x": 0.5, "center_y": 0.5}


<InputNumberManuallyScreen>:
    id: search_layout_main

    CenteredLabel:
        id: isbn_number_label
        text: '9781617293702'
        pos_hint: {'center_x': 0.5, 'y': 0.7}

    CenteredLabel:
        id: message_label
        text: 'type ISBN number'
        pos_hint: {'center_x':0.5, 'y': 0.5}

    FullWidthGridLayoutChunkiest:
        id: keyboard_input_layout
        rows: 4
        cols: 3

        InputNumberButton:
            text: '1'
            on_press: 
                root.input_number(1)

        InputNumberButton:
            text: '2'
            on_press: 
                root.input_number(2)

        InputNumberButton:
            text: '3'
            on_press: 
                root.input_number(3)

        InputNumberButton:
            text: '4'
            on_press: 
                root.input_number(4)

        InputNumberButton:
            text: '5'
            on_press: 
                root.input_number(5)

        InputNumberButton:
            text: '6'
            on_press: 
                root.input_number(6)

        InputNumberButton:
            text: '7'
            on_press: 
                root.input_number(7)

        InputNumberButton:
            text: '8'
            on_press: 
                root.input_number(8)

        InputNumberButton:
            text: '9'
            on_press: 
                root.input_number(9)

        InputNumberButton:
            text: 'Del'
            on_press: 
                root.delete_last_number()

        InputNumberButton:
            text: '0'
            on_press: 
                root.input_number(0)

        InputNumberButton:
            text: 'Go!'
            disabled: False
            on_press: 
                app.root.current = 'job'

<ProblemWindow>:
    CenteredLabel:
        id: problem_layout_message
        text: 'Unknown poblem occured!'
        multiline: True
        pos_hint: {'center_x':0.5, 'y': 0.5}
