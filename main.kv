<Manager>:
    id: manager

    MainWindow:
        id: main_window
        manager: manager
        name: 'main'

    InputNumberManuallyScreen:
        id: input_number_manually_window
        manager: manager
        name: 'input_number_manually'

    JobWindow:
        id: job_window
        manager: manager
        name: 'job'

    ResultsWindow:
        id: results_window
        manager: manager
        name: 'results'

    ProblemWindow:
        id: problem_window
        manager: manager
        name: 'problem'

    SettingsWindow:
        id: settings_window
        manager: manager
        name: 'settings'

<MainWindow>:
    orientation: 'vertical'
    canvas:
        Color:
            rgba: 0.0, 0.0, 0.0, 1.0
        Rectangle:
            pos: self.pos
            size: self.size

    Label:
        id: search_method_label
        text: 'Choose ISBN input method'
        font_size: 20
        size_hint_y: 0.1
        size_hint_x: 0.5
        pos_hint: {'center_x':0.5, 'y': 0.8}

    GridLayout:
        id: search_method_layout
        rows: 1
        cols: 2
        size_hint_y: 0.1
        size_hint_x: 0.5
        pos_hint: {'center_x':0.5, 'y': 0.5}

        Button:
            id: search_by_scanning
            background_normal: ''
            text: 'Scan'
            font_size: 20
            disabled: True
            background_color: (0.3, 0.3, 0.3, 1.0)

        Button:
            id: search_by_inputting
            background_normal: ''
            text: 'Input'
            font_size: 20
            disabled: False
            background_color: (0.3, 0.3, 0.3, 1.0)
            on_press: 
                app.root.current = 'input_number_manually'

    GridLayout:
        id: search_method_layout
        rows: 2
        cols: 1
        size_hint_y: 0.1
        size_hint_x: 0.2
        padding: -50
        pos_hint: {'center_x':0.5, 'y': 0.3}

        Button:
            id: goto_settings
            background_normal: ''
            text: 'Settings'
            font_size: 20
            disabled: False
            background_color: (0.3, 0.3, 0.3, 1.0)
            on_press: 
                app.root.current = 'settings'

        Button:
            id: exit_button
            background_normal: ''
            text: 'Exit'
            font_size: 20
            disabled: False
            background_color: (0.3, 0.3, 0.3, 1.0)
            on_press: 
                app.get_running_app().stop()

<SettingsWindow>:
    orientation: 'vertical'
    canvas:
        Color:
            rgba: 0.0, 0.0, 0.0, 1.0
        Rectangle:
            pos: self.pos
            size: self.size

    Label:
        id: price_strategy_label
        text: 'choose default price difference from average:'
        font_size: 20
        size_hint_y: 0.1
        size_hint_x: 0.5
        pos_hint: {'center_x':0.5, 'y': 0.9}

    GridLayout:
        id: price_strategy_layout
        rows: 1
        cols: 4
        size_hint_y: 0.1
        size_hint_x: 0.5
        pos_hint: {'center_x':0.5, 'y': 0.8}

        Button:
            id: set_0_percent_price_strategy
            background_normal: ''
            text: '-0%'
            font_size: 20
            disabled: False
            background_color: (0.3, 0.3, 0.3, 1.0)
            on_press: 
                root.set_price_strategy(0)

        Button:
            id: set_10_percent_price_strategy
            background_normal: ''
            text: '-10%'
            font_size: 20
            disabled: False
            background_color: (0, 0, 0, 1.0)
            on_press: 
                root.set_price_strategy(10)

        Button:
            id: set_20_percent_price_strategy
            background_normal: ''
            text: '-20%'
            font_size: 20
            disabled: False
            background_color: (0, 0, 0, 1.0)
            on_press: 
                root.set_price_strategy(20)

        Button:
            id: set_40_percent_price_strategy
            background_normal: ''
            text: '-40%'
            font_size: 20
            disabled: False
            background_color: (0, 0, 0, 1.0)
            on_press: 
                root.set_price_strategy(40)

    Label:
        id: sell_strategy
        text: 'choose sell strategy'
        font_size: 20
        size_hint_y: 0.1
        size_hint_x: 0.5
        pos_hint: {'center_x':0.5, 'y': 0.7}

    GridLayout:
        id: sell_strategy_layout
        rows: 2
        cols: 3
        size_hint_y: 0.1
        size_hint_x: 0.5
        pos_hint: {'center_x':0.5, 'y': 0.6}

        Label:
            id: sell_strategy_label
            text: 'Sell as:'
            font_size: 20
            size_hint_y: 0.1
            size_hint_x: 0.5

        Button:
            id: set_sell_as_new
            background_normal: ''
            text: 'used'
            font_size: 20
            disabled: False
            background_color: (0.3, 0.3, 0.3, 1.0)
            on_press: 
                root.sell_as('used')

        Button:
            id: set_sell_as_used
            background_normal: ''
            text: 'new'
            font_size: 20
            disabled: False
            background_color: (0, 0, 0, 1.0)
            on_press: 
                root.sell_as('new')

        Label:
            id: buynow_strategy_label
            text: 'Allow Buy Now'
            font_size: 20
            size_hint_y: 0.1
            size_hint_x: 0.5

        Button:
            id: buynow_true
            background_normal: ''
            text: 'yes'
            font_size: 20
            disabled: False
            background_color: (0.3, 0.3, 0.3, 1.0)
            on_press: 
                root.buynow(True)

        Button:
            id: buynow_false
            background_normal: ''
            text: 'no'
            font_size: 20
            disabled: False
            background_color: (0, 0, 0, 1.0)
            on_press: 
                root.buynow(False)

    Label:
        id: delivery_strategy_label
        text: 'choose delivery options'
        font_size: 20
        size_hint_y: 0.1
        size_hint_x: 0.5
        pos_hint: {'center_x':0.5, 'y': 0.5}

    GridLayout:
        id: delivery_strategy_layout
        rows: 3
        cols: 5
        size_hint_y: 0.3
        size_hint_x: 0.5
        pos_hint: {'center_x':0.5, 'y': 0.2}

        # PARCELLOCKER
        TwoStateClickableImage:
            id: parcellocker_delivery_tick
            source: 'static/yes.png'

        Label:
            id: parcellocker_delivery_label
            background_normal: ''
            text: 'Parcellocker'
            font_size: 20
            background_color: (0, 0, 0, 1.0)

        Button:
            id: parcellocker_delivery_less
            text: '-'
            font_size: 20
            disabled: False
            background_color: (0.3, 0.3, 0.3, 1.0)
            on_press: 
                root.change_price('parcellocker', -1)

        Label:
            id: parcellocker_delivery_price
            background_normal: ''
            text: '10.00 PLN'
            font_size: 20
            background_color: (0, 0, 0, 1.0)

        Button:
            id: parcellocker_delivery_less
            text: '+'
            font_size: 20
            background_color: (0.3, 0.3, 0.3, 1.0)
            on_press: 
                root.change_price('parcellocker', 1)

        # COURIER
        TwoStateClickableImage:
            id: courier_delivery_tick
            source: 'static/yes.png'

        Label:
            id: courier_delivery_label
            background_normal: ''
            text: 'Courier'
            font_size: 20
            background_color: (0, 0, 0, 1.0)

        Button:
            id: courier_delivery_less
            text: '-'
            font_size: 20
            background_color: (0.3, 0.3, 0.3, 1.0)
            on_press: 
                root.change_price('courier', -1)

        Label:
            id: courier_delivery_price
            background_normal: ''
            text: '10.00 PLN'
            font_size: 20
            background_color: (0, 0, 0, 1.0)

        Button:
            id: courier_delivery_less
            text: '+'
            font_size: 20
            background_color: (0.3, 0.3, 0.3, 1.0)
            on_press: 
                root.change_price('courier', 1)

        # MAIL
        TwoStateClickableImage:
            id: mail_delivery_tick
            source: 'static/yes.png'

        Label:
            id: mail_delivery_label
            background_normal: ''
            text: 'Mail'
            font_size: 20
            background_color: (0, 0, 0, 1.0)

        Button:
            id: mail_delivery_less
            text: '-'
            font_size: 20
            background_color: (0.3, 0.3, 0.3, 1.0)
            on_press: 
                root.change_price('mail', -1)

        Label:
            id: mail_delivery_price
            background_normal: ''
            text: '10.00 PLN'
            font_size: 20
            background_color: (0, 0, 0, 1.0)

        Button:
            id: mail_delivery_less_arrow
            text: '+'
            font_size: 20
            background_color: (0.3, 0.3, 0.3, 1.0)
            on_press: 
                root.change_price('mail', 1)

    Button:
        id: goback
        text: 'Save and Proceed'
        font_size: 20
        size_hint_y: 0.1
        size_hint_x: 0.5
        pos_hint: {'center_x':0.5, 'y': 0.0}
        background_color: (0.3, 0.3, 0.3, 1.0)
        on_press: 
            root.save_and_proceed()
            app.root.current = 'main'

<ResultsWindow>:
    orientation: 'vertical'
    canvas:
        Color:
            rgba: 0.0, 0.0, 0.0, 1.0
        Rectangle:
            pos: self.pos
            size: self.size

    GridLayout:
        id: results_layout
        rows: 4
        cols: 2
        size_hint_y: 0.5
        size_hint_x: 0.5
        pos_hint: {'center_x':0.5, 'y': 0.4}

        Label:
            id: title_label
            text: 'title:'
            font_size: 20

        Label:
            id: title_content
            text: 'jebac psy'
            font_size: 20

        Label:
            id: author_label
            text: 'title:'
            font_size: 20

        Label:
            id: author_content
            text: 'Pezet'
            font_size: 20

        Label:
            id: avg_prices_label
            text: 'avg. price:'
            font_size: 20

        Label:
            id: avg_prices_content
            text: '0.0'
            font_size: 20

        Label:
            id: sales_number_label
            text: 'sold:'
            font_size: 20

        Label:
            id: sales_number_content
            text: '69'
            font_size: 20

    BoxLayout:
        id: buttons_layout
        orientation: 'horizontal'
        size_hint_y: 0.1
        size_hint_x: 0.5
        pos_hint: {'center_x':0.5, 'y': 0.2}

        Button:
            id: goback_button
            text: 'Go Back'
            font_size: 20
            on_press: 
                root.goback()

        Button:
            id: sell_button
            text: 'Sell!'
            font_size: 20
            disabled: True
            on_press: 
                root.sell()

<JobWindow>:
    orientation: 'vertical'

    canvas:
        Color:
            rgba: 0.0, 0.0, 0.0, 1.0
        Rectangle:
            pos: self.pos
            size: self.size

    Image:
        id: job_wip_gif
        source: 'static/wait.gif'
        anim_delay: 0.1
        anim_loop: 5
        allow_stretch: False
        size_hint_y: 0.1
        size_hint_x: 0.1
        pos_hint: {'center_x':0.5, 'center_y': 0.5}


<InputNumberManuallyScreen>:
    orientation: 'vertical'

    canvas:
        Color:
            rgba: 0.0, 0.0, 0.0, 1.0
        Rectangle:
            pos: self.pos
            size: self.size

    BoxLayout:
        id: search_layout_main
        orientation: 'vertical'

        Label:
            id: isbn_number_label
            text: '9781617293702'
            padding_y: self.height / 3
            padding_x: 20
            multiline: False
            size_hint_y: 0.3
            pos_hint: {'center_x':0.5, 'y': 0.5}
            font_size: 20

        Label:
            id: message_label
            text: 'type ISBN number'
            font_size: 20
            size_hint_y: 0.1

        GridLayout:
            id: keyboard_input_layout
            rows: 4
            cols: 3
            size_hint_y: 0.4

            Button:
                id: button_1
                text: '1'
                on_press: 
                    root.input_number(1)

            Button:
                id: button_2
                text: '2'
                on_press: 
                    root.input_number(2)

            Button:
                id: button_3
                text: '3'
                on_press: 
                    root.input_number(3)

            Button:
                id: button_4
                text: '4'
                on_press: 
                    root.input_number(4)

            Button:
                id: button_5
                text: '5'
                on_press: 
                    root.input_number(5)

            Button:
                id: button_6
                text: '6'
                on_press: 
                    root.input_number(6)

            Button:
                id: button_7
                text: '7'
                on_press: 
                    root.input_number(7)

            Button:
                id: button_8
                text: '8'
                on_press: 
                    root.input_number(8)

            Button:
                id: button_9
                text: '9'
                on_press: 
                    root.input_number(9)

            Button:
                id: button_del
                text: 'Del'
                on_press: 
                    root.delete_last_number()

            Button:
                id: button_0
                text: '0'
                on_press: 
                    root.input_number(0)

            Button:
                id: run
                text: 'Go!'
                disabled: False
                on_press: 
                    app.root.current = 'job'

<ProblemWindow>:
    orientation: 'vertical'
    canvas:
        Color:
            rgba: 0.0, 0.0, 0.0, 1.0

        Rectangle:
            pos: self.pos
            size: self.size

            Label:
                id: problem_layout_message
                text: 'Unknown poblem occured!'
                padding_y: self.height / 3
                padding_x: 20
                multiline: True
                size_hint_y: 0.3
                pos_hint: {'center_x':0.5, 'y': 0.5}
                font_size: 20
